function isFeatureOn(x){return Boolean("undefined"!=typeof reduxApp&&"function"==typeof reduxApp.getState&&reduxApp.getState().settings.features&&reduxApp.getState().settings.features[x])}try{if("function"==typeof importScripts){if("https:"==location.protocol)importScripts("/js-thirdparty/zxcvbn.js"),importScripts("/js-thirdparty/zxcvbn-ts-core.min.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-common.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-en.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-de.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-es-es.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-fr.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-it.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-nl-be.js"),importScripts("/js-thirdparty/zxcvbn-ts-language-pt-br.js"),importScripts("/js/sjcl/sjcl.js"),importScripts("/js/sha256.js");else{var baseUrl=location.pathname.slice(0,-26);importScripts(baseUrl+"/zxcvbn.js"),importScripts(baseUrl+"/zxcvbn-ts-core.min.js"),importScripts(baseUrl+"/zxcvbn-ts-language-common.js"),importScripts(baseUrl+"/zxcvbn-ts-language-en.js"),importScripts(baseUrl+"/zxcvbn-ts-language-de.js"),importScripts(baseUrl+"/zxcvbn-ts-language-es-es.js"),importScripts(baseUrl+"/zxcvbn-ts-language-fr.js"),importScripts(baseUrl+"/zxcvbn-ts-language-it.js"),importScripts(baseUrl+"/zxcvbn-ts-language-nl-be.js"),importScripts(baseUrl+"/zxcvbn-ts-language-pt-br.js"),importScripts(baseUrl+"/sjcl.js"),importScripts(baseUrl+"/sha256.js")}var startTime;onmessage=function(x){"zxcvbn"===x.data.source&&"challengecomputescore_async"===x.data.cmd&&(startTime=(new Date).getTime(),challengecomputescore_async(x.data.curr,x.data.g_totalscore,JSON.parse(x.data.g_sites),x.data.g_aSites&&x.data.g_aSites.length?x.data.g_aSites:[],x.data.g_numsites,x.data.g_numblanksites,x.data.g_avgpasswordlength,x.data.g_aPasswords,x.data.g_MAXNUMCOMPUTESCORE,x.data.g_numduppasswords,x.data.g_numdupsites,x.data.g_usernames,x.data.WEAKPASSWORDSCORE,x.data.g_strengthscore,x.data.g_countscore,x.data.g_numweak,x.data.sharedavgstrength,x.data.SharedAccounts,x.data.g_runtimems,x.data.sfcounts,x.data.sharedstrengthscore,x.data.sharedblanksites,x.data.sharedweak,x.data.sharedavgpasswordlength,x.data.SharedPasswords,x.data.sharedcountscore,x.data.NonSharedAccounts,x.data.g_SFNames,x.data.AllSFNames,x.data.sharedtotalscore,x.data.g_numvulnerablesites,x.data.g_allPasswords,x.data.g_reuse,x.data.g_blanksites,x.data.g_allnumduppasswords,x.data.equivalentDomainCheckList,x.data.isExcludeSwitchedOn,x.data.excludedPasswords,x.data.domainsForAutomaticPasswordExclude,x.data.countReusedOnSharedItems,x.data.isFeatureEnabledSecurityDashboard2_0,x.data.dwmAlerts))};var zxcvbntsdictionary={};zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-common"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-en"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-de"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-es-es"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-fr"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-it"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-nl-be"].dictionary),zxcvbnts.addToDictionary(zxcvbntsdictionary,zxcvbnts["language-pt-br"].dictionary);var zxcvbntsoptions={useLevenshteinDistance:!1,translations:zxcvbnts["language-en"].translations,graphs:zxcvbnts["language-common"].adjacencyGraphs,dictionary:zxcvbntsdictionary};function challengegetstrength(x,e){var a=25;return isFeatureOn("password_strength_hardening")?zxcvbnts.calculatePasswordStrength(e,x)*a:calculateStrengthLegacy(e,x)*a}function calculateStrengthLegacy(x,e){if("undefined"==typeof zxcvbn)return console.error("No zxcvbn functionality available"),void sendPostMessage();var a=x?x.substring(0,50):"",s=e?e.substring(0,50).toLowerCase():"";return zxcvbn(a,[s,"lastpass","lastpass.com"]).score}function challengecomputescore_async(x,e,n,d,c,a,s,t,r,o,i,l,g,v,u,h,p,m,f,_,b,y,z,S,w,j,O,P,U,T,D,M,A,k,N,E,F,R,L,C,W,J){function K(){postMessage({cmd:"report",runtimesec:void 0!==fx?fx:void 0,calcTimeMs:void 0!==startTime?(new Date).getTime()-startTime:void 0,g_totalscore:void 0!==e?e:void 0,g_aSites:void 0!==d?d:void 0,g_numsites:void 0!==c?c:0,g_numblanksites:void 0!==a?a:0,g_avgpasswordlength:void 0!==s?s:0,g_avgstrength:"undefined"!=typeof g_avgstrength?g_avgstrength:0,g_aPasswords:void 0!==t?t:{},g_MAXNUMCOMPUTESCORE:void 0!==r?r:0,g_numduppasswords:void 0!==o?o:0,g_numdupsites:void 0!==i?i:0,g_usernames:void 0!==l?l:[],WEAKPASSWORDSCORE:void 0!==g?g:50,g_strengthscore:void 0!==v?v:0,g_countscore:void 0!==u?u:0,g_numweak:void 0!==h?h:0,sharedavgstrength:void 0!==p?p:[],SharedAccounts:void 0!==m?m:[],g_runtimems:void 0!==f?f:0,sfcounts:void 0!==_?_:[],sharedstrengthscore:void 0!==b?b:[],sharedblanksites:void 0!==y?y:[],sharedweak:void 0!==z?z:[],sharedavgpasswordlength:void 0!==S?S:[],SharedPasswords:void 0!==w?w:[],sharedcountscore:void 0!==j?j:[],NonSharedAccounts:void 0!==O?O:[],g_SFNames:void 0!==P?P:[],AllSFNames:void 0!==U?U:[],sharedtotalscore:void 0!==T?T:[],g_numvulnerablesites:void 0!==D?D:0,g_allPasswords:void 0!==M?M:{},g_reuse:void 0!==A?A:void 0,g_blanksites:void 0!==k?k:void 0,g_allnumduppasswords:void 0!==N?N:0})}if(0!==e)return K(),void console.log("Not processing security score");var X,q=0,B,G,H,I,Z,Q,V;for(E=void 0===E?{}:E,void 0!==d[X=void 0===x?0:x]&&void 0!==d[X].sfname&&(B=d[X].sfname),void 0===B&&(B="nonshared"),void 0===_&&(_=[]),void 0===b&&(b=[]),void 0===y&&(y=[]),void 0===z&&(z=[]),void 0===S&&(S=[]),void 0===w&&(w=[]),void 0===j&&(j=[]),void 0===O&&(O=[]),void 0===P&&(P=[]),void 0===U&&(U=[]),void 0===_[B]&&(_[B]=0),_[B]++,void 0===x&&(g_challengeregexcache=[]);X<c;++X){if("function"==typeof reportprogress&&reportprogress(X,c),B="nonshared",void 0!==d[X].sfname)var B=d[X].sfname;var Y=d[X].usernamedec,$=d[X].passworddec;$=$||"";var xx=d[X].passworddecfix,ex=d[X].domain2lvl,ax=void 0!==d[X].realdomain2lvl?d[X].realdomain2lvl:ex,sx=void 0!==d[X].vulnerable;void 0===a&&(a=0),void 0===D&&(D=0),void 0===y[B]&&(y[B]=0),void 0===b[B]&&(b[B]=0);var tx="function"==typeof get_sitepwlen?get_sitepwlen(ax):1,nx=R&&-1!==Object.values(R).indexOf(d[X].id);if(sx)console.log("challengecomputescore_async : Found vulnerable site domain2lvl="+ex+" sfname="+B),"nonshared"==B&&++D,d[X].challenge_score=0;else if(0<$.length&&$.length<tx)d[X].challenge_score=0;else{d[X].challenge_score=challengegetstrength(Y,$);var rx=L&&-1!==Object.values(L).indexOf(d[X].realdomain2lvl);F&&(rx||nx)&&(d[X].is_excluded=!0)}if(""!=xx){if("nonshared"==B&&(s+=$.length),void 0===S[B]&&(S[B]=0),S[B]+=$.length,void 0===w[B]&&(w[B]=[]),"nonshared"==B&&!nx){void 0===t[xx]&&(t[xx]=[]),(void 0===t[xx][ex]||"function"==typeof t[xx][ex]&&void 0===t[xx][ex].push)&&(t[xx][ex]=[]);try{t[xx][ex].push(X)}catch(x){return void(xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if(void 0===M&&(M=[]),!nx){void 0===M[xx]&&(M[xx]=[],E[xx]=[]),(void 0===M[xx][ex]||"function"==typeof M[xx][ex]&&void 0===M[xx][ex].push)&&(M[xx][ex]=[],E[xx][ex]={users:[],hasDifferentUser:!1});try{M[xx][ex].push(X),E[xx][ex].hasDifferentUser||E[xx][ex].users.forEach(function(x){x===Y||(E[xx][ex].hasDifferentUser=!0)}),E[xx][ex].users.push(Y)}catch(x){return void(xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if("nonshared"!=B){void 0===w[B][xx]&&(w[B][xx]=[]),(void 0===w[B][xx][ex]||"function"==typeof w[B][xx][ex]&&void 0===w[B][xx][ex].push)&&(w[B][xx][ex]=[]);try{w[B][xx][ex].push(X)}catch(x){return void(xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}}if(++q>r){var ox=null;try{"function"==typeof setTimeout?ox=setTimeout:"undefined"!=typeof LP&&void 0!==LP.mostRecent&&void 0!==LP.mostRecent().setTimeout&&(ox=LP.mostRecent().setTimeout)}catch(x){}var ix=0;return ox(function(){if(999<d.length){var x=Number(((X+1)/d.length*100).toFixed(2));Math.floor(x)==Math.ceil(x)&&console.log(x+"% score calculation done")}challengecomputescore_async(X+1,e,n,d,c,a,s,t,r,o,i,l,g,v,u,h,p,m,f,_,b,y,z,S,w,j,O,P,U,T,D,M,A,k,N,E,F,R,L,C,W,J)},0),void(xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx")}xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}else"nonshared"==B&&a++,y[B]++,void 0!==k&&k.push(X),xx=$=Y="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"}for(V in g_challengeregexcache=[],s=c==a?0:Math.round(10*s/(c-a))/10,t)if(Q=0,t.hasOwnProperty(V)){H=t[V];var dx=!1;for(var cx in H)E[V][cx].hasDifferentUser&&(dx=!0),H.hasOwnProperty(cx)&&Q++;if(1==Q&&!dx||""==V){if(void 0!==A)for(var lx in t[V])for(var gx in t[V][lx])delete A[t[V][lx][gx]];delete t[V]}else{for(var cx in++o,Z=0,H)H.hasOwnProperty(cx)&&(Z+=t[V][cx].length);for(var cx in i+=Z,H)if(H.hasOwnProperty(cx))for(G in I=t[V][cx])I.hasOwnProperty(G)&&(X=t[V][cx][G],d[X].challenge_numduplicates=Z,d[X].challenge_duplicatescore=d[X].challenge_score/Q)}}function vx(x){var e,a,s,t,n,r;for(r in r="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",void 0===M&&(M={},g_allnumdupsites=c),M)if(M.hasOwnProperty(r)){a=M[r],n=0;var o=!1;for(var i in a)E[r][i].hasDifferentUser&&(o=!0),a.hasOwnProperty(i)&&++n;if(1==n&&!o||""==r)delete M[r];else{for(var i in void 0===N&&(N=0),++N,t=0,"undefined"==typeof g_allnumdupsites&&(g_allnumdupsites=0),a)a.hasOwnProperty(i)&&(t+=M[r][i].length);for(var i in g_allnumdupsites+=t,a)if(a.hasOwnProperty(i))for(var e in s=M[r][i])s.hasOwnProperty(e)&&(X=M[r][i][e],void 0!==d[X]&&x&&(d[X].challenge_numduplicates=t,d[X].challenge_duplicatescore=d[X].challenge_score/n))}}}function ux(e){var a=JSON.parse(n),x=a[e]&&"1"===a[e].last_credential_monitoring_state,s=a[e]&&1<Number(a[e].last_credential_monitoring_state),t=J.filter(function(x){return lp_sha2lib.sha256(a[e].unencryptedUsername)===x.usernameHash&&-1<a[e].url.indexOf(x.url)});return x||t.length&&!s}V="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",vx(C),V="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx";var hx=0,px;for(X=0;X<d.length;++X)void 0!==d[X].sfname&&(B=d[X].sfname),void 0===d[X].sfname&&(B="nonshared"),void 0===z[B]&&(z[B]=0),d[X].challenge_scorefinal=d[X].challenge_score,!d[X].usernamedec||-1===d[X].usernamedec.indexOf("@")||d[X].usernamedec in l||(l[d[X].usernamedec]=[],l[d[X].usernamedec].hash=lp_sha2lib.sha256(d[X].usernamedec),l[d[X].usernamedec].link=d[X].link),void 0===d[X].challenge_dictionary||void 0===d[X].challenge_duplicatescore?void 0===d[X].challenge_dictionary?void 0===d[X].challenge_duplicatescore?(d[X].challenge_score<g&&""!=d[X].passworddecfix&&("nonshared"==B&&++h,"nonshared"!=B&&++z[B]),"nonshared"==B&&(d[X].is_excluded&&!0===d[X].is_excluded&&""!==d[X].passworddec?hx++:v+=W&&ux(d[X].id)?0:d[X].challenge_score,g_avgstrength=c==a?0:Math.round(10*v/(c-a-hx))/10,0!=O.length&&(g_avgstrength=O.length==a?0:Math.round(10*v/(O.length-a-hx))/10)),"nonshared"!=B&&(b[B]+=d[X].challenge_score,p[B]=_[B]==y[B]?0:Math.round(10*b[B]/(m[B].length-y[B]))/10),void 0===j[B]&&(j[B]=0),70<=d[X].challenge_score&&void 0===d[X].sfname&&(u+=2),70<=d[X].challenge_score&&void 0!==d[X].sfname&&(j[B]+=2)):(d[X].challenge_scorefinal=d[X].challenge_duplicatescore,void 0===d[X].sfname&&(v+=W&&ux(d[X].id)?0:d[X].challenge_duplicatescore),void 0!==d[X].sfname&&(b[B]+=d[X].challenge_duplicatescore)):(d[X].challenge_scorefinal=.5*d[X].challenge_scorefinal,"nonshared"==B&&++h,"nonshared"!=B&&++z[B]):(d[X].challenge_scorefinal=.5*d[X].challenge_duplicatescore,"nonshared"==B&&++h,"nonshared"!=B&&++z[B]);if(100<u&&(u=100),100<j[B]&&(j[B]=100),void 0!==O&&0!=O.length&&(c=O.length),0<c-a)if(W){var mx=7;(px=70)<(e=Math.round(v/(c-a-hx)*7)/10)&&(console.error("Password part of total score is over 70"),e=px)}else(px=100)<(e=Math.round(10*(v/(c-a-hx)*.8+u/10))/10)&&(e=px);for(var X=0;X<U.length;X++)B=U[X],void 0===m[B]&&(m[B]=[]),void 0===y[B]&&(y[B]=0),0<m[B].length-y[B]&&(T[B]=Math.round(10*(b[B]/(m[B].length-y[B])*.8+j[B]/10))/10);f=(new Date).getTime()-f;var fx=Math.round(f/1e3);K()}zxcvbnts.core.zxcvbnOptions.setOptions(zxcvbntsoptions)}else console.info("Zxcvbn-Worker initial phase done")}catch(x){console.error("inside-zxcvbn-worker",x)}